apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: etcd-snapshot-driver-dev

# Reference to base
resources:
  - ../../base

# Additional labels for dev
labels:
  - includeSelectors: true
    pairs:
      environment: development

# Image customizations for dev
images:
  - name: etcd-snapshot-driver
    newTag: dev
    newName: localhost:5000/etcd-snapshot-driver
  - name: registry.k8s.io/sig-storage/csi-provisioner
    newTag: v3.5.0
  - name: registry.k8s.io/sig-storage/csi-snapshotter
    newTag: v6.2.1

# Strategic merge patches
patchesStrategicMerge:
  - deployment-patch.yaml
  - config-patch.yaml

# Namespace suffix for dev environment
nameSuffix: -dev
